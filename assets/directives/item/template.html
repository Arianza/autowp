<div class="car item-list-item"> <!--  data-module="car-list" -->
    <h3 ng-if="!disableTitle">
        <span ng-bind-html="item.name_html"></span>
        <sup class="design-brand" ng-if="item.design">{{'ng/carlist/designed by'|translate}}<a ng-href="{{item.design.url}}" ng-bind="item.design.name"></a></sup>

        <small ng-if="item.produced > 1">
            <span ng-if="item.produced_exactly" translate="ng/carlist/produced/%1$s" translate-values="{count: item.produced}"></span>
            <span ng-if="!item.produced_exactly" translate="ng/carlist/produced-about/%1$s" translate-values="{count: item.produced}"></span>
        </small>
        <small translate ng-if="item.produced == 1">carlist/produced/one</small>
    </h3>

    <h4 ng-bind="item.name_default" ng-if="item.name_default"></h4>

    <div class="row">
        <div ng-class="ctrl.thumbnailClasses(picture, $index)" ng-if="ctrl.havePhoto(item)" ng-repeat="picture in item.preview_pictures">
            <a ng-href="{{picture.url}}" ng-if="picture.picture.thumbnail" class="d-block rounded mb-4">
                <img ng-src="{{picture.picture.thumbnail.src}}" ng-srcset="{{picture.picture.thumbnail.srcset}}" alt="{{picture.picture.name}}" title="{{picture.picture.name}}" class="rounded w-100 border border-light" />
            </a>
            <span ng-if="!picture">&#xa0;</span>
        </div>

        <div class="col-md-3 col-sm-6" ng-if="!ctrl.havePhoto(item) && ctrl.canHavePhoto(item)">
            <div class="no-photo rounded w-100 border border-light mb-4" ng-title="{{'carlist/no-photo'|translate}}">
                <a ui-sref="upload({item_id: item.id})" title="{{'carlist/no-photo/add'|translate}}" class="fa fa-plus-circle text-success"></a>
                <span class="fa fa-camera fa-lg fa-4x" aria-hidden="true"></span>
            </div>
        </div>
    </div>

    <div class="text" ng-if="item.description.length" autowp-markdown="item.description"></div>

    <div ng-if="item.engine_vehicles.length">
        <p translate>catalogue/engine/mounted-on:</p>
        <ul>
            <li ng-repeat="vehicle in item.engine_vehicles">
                <a ng-href="{{vehicle.url}}" ng-bind-html="vehicle.name_html"></a>
            </li>
        </ul>
    </div>

    <ul class="list-inline">

        <li ng-if="(item.has_text || item.childs_count) && item.url" class="list-inline-item">
            <i class="fa fa-align-left"></i>
            <a ng-href="{{item.url}}">{{'carlist/details'|translate}}<span ng-if="item.childs_count > 1"> ({{item.childs_count}})</span></a>
        </li>

        <li ng-if="item.item_type_id == 8" class="list-inline-item">
            <i class="fa fa-align-left"></i>
            <a ui-sref="persons-person({id: item.id})">{{'carlist/details'|translate}}</a>
        </li>

        <li ng-if="item.tuning" class="list-inline-item">
            <i class="fa fa-align-left"></i>
            <a ng-href="{{item.tuning.url}}">{{'catalogue/related'|translate|lowercase}} ({{item.tuning.count}})</a>
        </li>

        <li ng-if="item.sport" class="list-inline-item">
            <i class="fa fa-align-left"></i>
            <a ng-href="{{item.sport.url}}">{{'catalogue/sport'|translate|lowercase}} ({{item.sport.count}})</a>
        </li>

        <li ng-if="item.more_pictures_url" class="list-inline-item">
            <span class="fa fa-th"></span>
            <a ng-href="{{item.more_pictures_url}}">{{'carlist/all pictures'|translate}} ({{item.total_pictures}})</a>
        </li>

        <!--
        <li ng-if="item.specsLinks.length > 1" class="list-inline-item">
            <i class="fa fa-list-alt"></i>
            {{'carlist/specifications'|translate}}
            <a ng-href="{{specLink.url}}" ng-bind="specLink.name" ng-repeat="specLink in item.specsLinks"></a>
        </li>
         -->
        <li ng-if="item.specs_url" class="list-inline-item">
            <i class="fa fa-list-alt"></i>
            <a ng-href="{{item.specs_url}}" translate>carlist/specifications</a>
        </li>

        <li ng-repeat="twinsGroup in item.twins_groups" class="list-inline-item">
            <i class="fa fa-adjust"></i>
            <a ng-href="{{twinsGroup.url}}" translate>carlist/twins</a>
        </li>

        <li ng-repeat="category in item.categories" class="list-inline-item">
            <i class="fa fa-tag"></i>
            <a ng-href="{{category.url}}" ng-bind-html="category.name_html"></a>
        </li>

        <li ng-if="ctrl.is_moder" class="list-inline-item">
            <i class="fa fa-cog"></i>
            <a ui-sref="moder-items-item({id: item.id})" translate>moder/edit-object</a>
        </li>

        <li ng-if="item.spec_editor_url" class="list-inline-item">
            <i class="fa fa-pencil"></i>
            <a ng-href="{{item.spec_editor_url}}" translate>carlist/edit-specs</a>
        </li>
    </ul>
</div>
